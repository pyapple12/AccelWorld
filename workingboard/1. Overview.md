# 项目概述

> 当前版本: ver 0.41

本文档记录 AccelWorld 项目的基本信息、核心功能和技术栈。

---

## [O01].[项目基础信息]

### [O01a].[项目名称]：AccelWorld / 加速世界世界钟

### [O01b].[项目启发]：

灵感来自日本动漫《加速世界》(Accel World)，将动漫中的时间膨胀概念具象化为可交互的桌面应用。用户可设定加速倍率，在现实时间流逝的同时，体验加速世界中的时间流动。

### [O01c].[项目类型]：桌面应用程序 / 实用工具 / 时间管理工具

### [O01d].[一句话简介]：

基于时间膨胀倍率的自定义小时制时钟应用，支持 1.0x-20.0x 加速倍率实时计算，同时显示标准时间与加速时间对照，集成农历、生肖、节气等中华传统文化元素，具备世界时钟、倒计时、天气显示等功能。

## [O02].[核心功能]

### [O02a].[时间膨胀计算]：根据设定的加速倍率（1.0x - 20.0x），实时计算并显示加速后的时间

功能说明：

- 支持拖动滑杆或输入数值调节倍率
- 实时计算加速时间（毫秒级精度）
- 显示膨胀后一天的总小时数（如 2.0x 倍时为 48 小时）
- 显示当天剩余加速时间
- 进度条可视化当前加速天的进度

### [O02b].[双界面支持]：同时提供图形界面和命令行界面

功能说明：

- 图形界面（默认）：PyQt6 实现的完整 GUI 应用
- 命令行界面：使用--cli 参数启动实时时钟显示
- 命令行参数：支持--rate、--theme、--city、--hidden、--minimized 等参数

### [O02c].[农历与中华文化]：显示丰富的农历信息和传统文化元素

功能说明：

- 天干地支年（如：甲辰年）
- 生肖（如：龙年）
- 农历月日（如：三月十五）
- 十二时辰（如：辰时）
- 月相（如：望月）
- 二十四节气（如：清明）
- 公历节日（如：国庆节）
- 拜财神方向（按月份）

### [O02d].[世界时钟]：支持查看全球主要城市时间

功能说明：

- 支持 8 个常用时区：北京、东京、首尔、伦敦、巴黎、纽约、洛杉矶、悉尼
- 下拉框快速切换时区
- 实时更新时间显示

### [O02e].[倒计时功能]：设置目标时间倒计时显示

功能说明：

- 支持三种时间格式：YYYY-MM-DD、YYYY-MM-DD HH:MM、YYYY-MM-DD HH:MM:SS
- 实时显示剩余天数、时、分、秒
- 倒计时结束显示提示

### [O02f].[天气显示]：集成天气信息展示

功能说明：

- 支持 18 个中国主要城市：北京、上海、广州、深圳、杭州、成都、武汉、南京、西安、重庆、天津、苏州、长沙、青岛、厦门、香港、台北
- 使用 Open-Meteo 免费 API（无需 API Key）
- 显示温度、体感温度、湿度、风力

### [O02g].[主题与系统托盘]：深色/浅色主题切换，系统托盘后台运行

功能说明：

- 一键切换深色/浅色主题
- 系统托盘图标显示
- 支持隐藏到托盘后台运行
- 关闭按钮最小化到托盘而非退出

### [O02h].[配置持久化]：自动保存和恢复用户设置

功能说明：

- 保存位置：~/.config/accelworld/config.json
- 自动保存：加速倍率、主题、城市、时区、倒计时目标、窗口位置、闹钟设置

### [O02i].[闹钟功能]：支持设置多个闹钟

功能说明：

- 最多支持设置 10 个闹钟
- 提供 4 种预设铃声（Classic、Gentle、Beep、Chime）
- 支持自定义音频文件（.wav、.mp3、.ogg、.flac、.m4a、.wma、.aac）
- 支持设置重复周期（每天、工作日、周末等）
- 闹钟触发时显示系统通知
- 一次性闹钟触发后自动禁用

## [O03].[技术栈]

### [O03a].[前端]（GUI 界面）：

PyQt6:版本号 6.6.0+

- 功能：图形界面框架，提供窗口、组件、事件处理

pytz:版本号 2024.1+

- 功能：世界时钟时区处理

### [O03b].[后端]（Python 核心逻辑）：

Python:版本号 3.8+

- 功能：项目主语言

lunar-python:版本号 0.0.9+

- 功能：农历、天干地支、生肖、节气、月相计算

chinese-calendar:版本号 1.8.0+

- 功能：中国节假日信息查询

### [O03c].[数据存储]：

JSON 文件:版本号 -

- 功能：用户配置持久化存储（~/.config/accelworld/config.json）
- 存储内容：加速倍率、主题、城市、时区、倒计时目标、窗口位置

### [O03d].[外部 API]：

Open-Meteo:版本号 -

- 功能：免费天气 API，无需 API Key
- API 文档: https://open-meteo.com/

### [O03e].[代码质量工具]：

basedpyright:版本号 -

- 功能：Python 类型检查（Pyright fork）

## [O04].[部署环境依赖与快速启动]

### [O04a].[依赖版本]：

Python:版本号 3.8 或更高版本

pip:版本号 最新版（随 Python 安装）

### [O04b].[快速启动]：

1. 克隆项目

```
    git clone https://github.com/pyapple12/AccelWorld.git
    cd AccelWorld
```

2. 创建虚拟环境（推荐）

```
   python -m venv .venv
```

#### Windows

```
    .venv\Scripts\activate
```

#### Linux/Mac

```
    source .venv/bin/activate
```

3. 安装依赖

```
   pip install -r requirements.txt
```

4. 运行程序

```
   # 运行图形界面（默认）

        python accelworld.py

   # 运行命令行界面

        python accelworld.py --cli

   # 指定加速倍率

        python accelworld.py --rate 3.0

   # 隐藏到托盘启动

        python accelworld.py --hidden

   # 深色主题启动

        python accelworld.py --theme dark
```

5. 访问地址：无网络服务，本地桌面应用

## [O05].[其他信息]

### [O05a].[项目作者]：pyapple12

### [O05b].[仓库地址]：https://github.com/pyapple12/AccelWorld.git

## [O06].[可选补充]

适用场景：

- 个人时间管理与效率提升
- 体验"加速时间"的新奇感受
- 查看农历、节气、天气等生活信息
- 倒计时重要事件

注意事项：

- 加速倍率必须大于 1.0，有效范围 1.0-20.0
- 默认加速倍率为 2.0
- 程序主要面向 Windows 平台，系统托盘功能在 Linux/macOS 可能受限
- 天气功能需要网络连接
- 命令行界面在 Windows 建议使用 Windows Terminal 或 PowerShell 获得最佳体验

项目特点：

- 界面语言：中文为主（GUI），命令行支持中英文
- 代码注释：中文
- 许可证：GPL-3.0
- 当前版本：ver 0.41
- 无需数据库、无需外网服务器（天气 API 除外）

## [O07].[项目文件]

### [O07a].[项目程序文件]：

```
文件名                    代码行数    说明
─────────────────────────────────────────────────────────
accelworld.py             113 行     主入口文件，命令行参数解析
accelworld_alarm.py       337 行     闹钟管理，多闹钟/自定义铃声/通知
accelworld_calc.py        169 行     核心计算逻辑，时间膨胀算法
accelworld_config.py      207 行     配置文件管理，JSON格式持久化
accelworld_date.py        154 行     日期和农历工具，天干地支、生肖、节气
accelworld_gui.py        1264 行     PyQt6图形界面，主窗口和组件
accelworld_weather.py     199 行     天气服务，Open-Meteo API集成
─────────────────────────────────────────────────────────
合计                      2443 行    Python代码总计
```

### [O07b].[项目文件结构]：

```
AccelWorld/
├── workingboard/                 工作板文档
│   ├── 1. Overview.md            项目概述
│   ├── 2. Missions.md            任务列表
│   ├── 3. Problems.md            问题集
│   ├── 4. FurtherPlans.md        路线图
│   ├── 5. Archive.md             归档任务
│   └── Guidelines/               指南文档
│       └── GitHub_README_Guide.md
├── accelworld.py                 主入口文件（113行）
├── accelworld_calc.py            核心计算逻辑（169行）
├── accelworld_date.py            日期和农历工具（154行）
├── accelworld_gui.py             PyQt6图形界面（1264行）
├── accelworld_config.py          配置文件管理（207行）
├── accelworld_weather.py         天气服务（199行）
├── accelworld_alarm.py           闹钟管理（337行）
├── requirements.txt              Python依赖
├── pyproject.toml                项目配置
├── README.md                     项目说明文档
└── LICENSE                       GPL-3.0许可证
```
