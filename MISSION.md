# AccelWorld 优化路线图

> 当前版本: ver 0.40

本文档记录 AccelWorld 项目的未来优化方向和功能规划，按阶段划分。

---

## 阶段一: UI/UX 优化 (Phase 1) ✅

### 1.1 滑杆实时调整加速倍率
**状态**: ✅ 已完成
**优先级**: 高

**需求描述**:
- 滑动滑杆时，进度条和加速时间立即响应变化
- 无需点击"应用加速"按钮
- 输入框仅在用户手动输入后点击按钮才生效

**实现方案**:
- 修改 `on_slider_change` 方法，滑杆值变化时直接调用 `_update_acceleration_rate`
- 添加 `valueChanged` 信号实时更新 UI

### 1.2 加速时间进度条
**状态**: ✅ 已完成
**优先级**: 高

**需求描述**:
- 添加可视化进度条显示当前加速时间的进度
- 进度条宽度随时间动态变化
- 显示当前小时数/总小时数

**UI 设计**:
```
[██████████████░░░░░░░░░░░░░░░] 16/48 小时
```

---

## 阶段二: 天气功能 (Phase 2) ✅

### 2.1 天气显示
**状态**: ✅ 已完成
**优先级**: 中

**需求描述**:
- 显示当前城市天气信息
- 支持手动设置城市
- 显示温度、湿度、天气状况

**技术方案**:
- 使用 Open-Meteo 免费天气 API（无需 API Key）
- 支持 17 个主要城市

**依赖**:
- 无需额外依赖，使用 urllib

### 2.2 天气图标
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 显示天气状况对应的图标
- 支持晴天、多云、阴天、雨天、雪天等

**实现方案**:
- 使用 Emoji 作为天气图标
- 根据 WMO 天气代码映射

---

## 阶段三: 界面美化 (Phase 3) ✅

### 3.1 暗色主题
**状态**: ✅ 已完成
**优先级**: 中

**需求描述**:
- 支持深色/浅色主题切换
- 适配系统主题设置

**实现方案**:
- 添加主题切换按钮（🌙/☀️）
- 定义完整的深色/浅色 QSS 样式表

### 3.2 动画效果
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 时间更新时的渐变效果
- 进度条动画

**实现方案**:
- 进度条使用渐变色（qlineargradient）
- 颜色从 #4CAF50 到 #81C784 再回到 #4CAF50

### 3.3 自定义字体
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 支持自定义字体设置
- 中英文字体优化

**实现方案**:
- 使用通用字体（Arial）
- 优化各组件字体大小和权重

---

## 阶段四: 功能增强 (Phase 4) ✅

### 4.1 倒计时功能
**状态**: ✅ 已完成
**优先级**: 中

**需求描述**:
- 添加目标时间倒计时
- 支持多个倒计时目标
- 倒计时结束时提醒

**实现方案**:
- 输入目标时间（支持多种格式）
- 实时显示倒计时（X天 HH:MM:SS）
- 到期变红色提示

### 4.2 闹钟功能
**状态**: ⏳ 待开发
**优先级**: 低

**需求描述**:
- 支持设置多个闹钟
- 自定义闹钟铃声
- 闹钟提醒通知

### 4.3 多时区支持
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 显示多个时区的时间
- 方便跨时区用户使用

**实现方案**:
- 使用 pytz 库支持 100+ 时区
- 下拉选择常用城市

### 4.4 世界时钟
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 预设世界主要城市时间
- 自定义添加城市

**实现方案**:
- 8 个预设城市（北京、东京、首尔、伦敦、巴黎、纽约、洛杉矶、悉尼）
- 实时更新显示

---

## 阶段五: 系统集成 (Phase 5) ✅

### 5.1 系统托盘
**状态**: ✅ 已完成
**优先级**: 中

**需求描述**:
- 支持最小化到系统托盘
- 托盘显示当前时间
- 托盘右键菜单

**实现方案**:
- 使用 QSystemTrayIcon
- 右键菜单：显示/隐藏窗口、当前倍率、退出
- 双击托盘显示窗口
- 关闭按钮最小化到托盘

### 5.2 系统通知
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 支持系统通知推送
- 整点报时
- 自定义提醒通知

**实现方案**:
- 使用 QSystemTrayIcon.showMessage()
- 隐藏到托盘时显示通知
- 倒计时结束通知

### 5.3 数据持久化
**状态**: ✅ 已完成
**优先级**: 中

**需求描述**:
- 保存用户设置
- 保存常用倍率
- 配置文件支持 (JSON/YAML)

**实现方案**:
- 配置文件：~/.config/accelworld/config.json
- 保存：倍率、主题、城市、时区、倒计时、窗口位置
- 启动时自动恢复上次设置

### 5.4 命令行增强
**状态**: ✅ 已完成
**优先级**: 低

**需求描述**:
- 支持更多命令行参数
- 配置文件指定
- 静默模式运行

**实现方案**:
- --gui/--cli 模式选择
- --rate/-R 加速倍率
- --theme/-T 主题
- --city/-C 默认城市
- --hidden/--minimized 启动后隐藏
- --version/-V 版本信息

---

## 阶段六: 可选功能 (Optional Features)

### A. 位置服务
- 自动获取当前位置显示天气
- 支持手动搜索城市

### B. 主题市场
- 可下载的第三方主题
- 自定义配色方案

### C. 插件系统
- 插件 API 接口
- 第三方扩展支持

### D. 统计功能
- 时间使用统计
- 加速时间累计

### E. 云同步
- 多设备同步设置
- 云端备份

### F. 移动端适配
- 响应式 UI 设计
- 触控优化

### G. 语音播报
- 整点语音报时
- 自定义语音提示

### H. 农历黄历
- 每日宜忌
- 吉凶查询

---

## 版本规划

| 版本 | 主要特性 | 状态 |
|------|----------|------|
| ver 0.11 | 初始版本 (PyQt6 迁移) | ✅ 完成 |
| ver 0.12 | 阶段一: 滑杆实时调整 + 进度条 | ✅ 完成 |
| ver 0.13 | 阶段二: 天气显示 | ✅ 完成 |
| ver 0.20 | 阶段三: 界面美化 | ✅ 完成 |
| ver 0.30 | 阶段四: 功能增强 | ✅ 完成 |
| ver 0.40 | 阶段五: 系统集成 | ✅ 完成 |
| ver 1.0  | 完整功能版本 | 📋 待规划 |

---

## 贡献指南

欢迎贡献代码或提出建议！请通过以下方式参与：

1. 提交 Issue 报告问题或建议新功能
2. 提交 Pull Request 贡献代码
3. 完善本文档

---

## 更新日志

- 2026-01-07: 创建 MISSION.md，版本 ver 0.11
- 2026-01-07: 阶段一完成 - 滑杆实时调整、加速时间进度条、按钮逻辑优化，版本 ver 0.12
- 2026-01-07: 阶段二完成 - 天气显示、城市选择、天气图标，版本 ver 0.13
- 2026-01-07: 阶段三完成 - 暗色/浅色主题切换、进度条动画效果、字体优化，版本 ver 0.20
- 2026-01-07: 阶段四完成 - 倒计时功能、世界时钟（多时区支持），版本 ver 0.30
- 2026-01-07: 阶段五完成 - 系统托盘、系统通知、数据持久化、命令行增强，版本 ver 0.40
